<!DOCTYPE HTML>
<html lang="zxx">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>爱乐电影</title>
    <!-- Favicon Icon -->
    <link rel="stylesheet" href="/web/css/bootstrap.css">
    <link rel="icon" type="image/png" href="/web/assets/img/favcion.png"/>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" type="text/css" href="/web/assets/css/bootstrap.min.css" media="all"/>

    <link rel="stylesheet" type="text/css" href="/web/assets/css/slicknav.min.css" media="all"/>
    <!-- Iconfont CSS -->
    <link rel="stylesheet" type="text/css" href="/web/assets/css/icofont.css" media="all"/>
    <!-- Owl carousel CSS -->
    <link rel="stylesheet" type="text/css" href="/web/assets/css/owl.carousel.css">
    <!-- Popup CSS -->
    <link rel="stylesheet" type="text/css" href="/web/assets/css/magnific-popup.css">
    <!-- Main style CSS -->
    <link rel="stylesheet" type="text/css" href="/web/assets/css/style.css" media="all"/>
    <!-- Responsive CSS -->
    <link rel="stylesheet" type="text/css" href="/web/assets/css/responsive.css" media="all"/>
    <link href="/web/ltcss/style1.css" rel="stylesheet" type="text/css" media="all"/>
    <link rel="stylesheet" href="/web/ltcss/style.css">
    <link rel="stylesheet" href="/web/css/hover.css">
    <link rel="stylesheet" href="/web/css/normalize.css">
    <link rel="stylesheet" href="/web/css/search-style.css">

    <!--自定义样式-->
    <link rel="stylesheet" type="text/css" href="/web/css/movieinfostyle.css">
    <link type="text/css" rel="stylesheet" href="/web/tao/css/citystyle.css"/>
    <link type="text/css" rel="stylesheet" href="/web/css/mtypestyle.css"/>
    <link href="/web/tao/css/star-rating.css" media="all" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="https://webapi.amap.com/maps?v=1.3&key=6ee71f2fd5eece7797fafe8b9f7a090a&plugin=AMap.Autocomplete,AMap.PlaceSearch,AMap.Geocoder"></script>

    <style type="text/css">
        .msg{
            font-size: 12px;
            color: red;
            margin-top: 5px;
        }
        input[type=text],input[type=password],input[type=tel]{
            color: black;
            font-size: 15px;
            font-style: italic;
            font-family: 仿宋;
        }
        .hotmovie{
        	width: 100%;
        	border-bottom:#F0F8FF;
        	margin-bottom: 100px;
        }
        .title{
        	text-align: center;
        	margin-top: 80px;
        }
        .score{
        	text-align: center;
        	margin-top: 80px;
        }
        .dpic{
        	width: 163px;
        	height: 220px;
        	padding: 0;
        	/*background-size: 100% 100%;
        	background-repeat: no-repeat;
        	background-image: url(img/t1.jpg);*/
        }
        .dfile{
        	margin-left: 15px;
        	border-bottom:#F0F8FF;
        }
        .movietype{
        	font-family: "微软雅黑";
        	font-weight: 700;
        }
        .ontime{
        	font-style: italic;
        	color: #F8F8F8;
        }
        .bigscore{
        	font-family: verdana;
        	font-size: 50px;
        	font-weight: 900;
        	color: orange;
        	font-style: italic;
        }
        .smallscore{
        	font-family: verdana;
        	font-size: 30px;
        	font-weight: 900;
        	color: orange;
        	font-style: italic;
        }
        .mytip{
        	color: orange;
        	font-size: 20px;
        }
        .lowscore{
        	 width: 32px;
        	 height: 32px;
        	 background-color: #1d4fd4;
        	 font-size: 20px;
        	 font-weight: 700;
        	 border-radius: 50%;
        	 border: #1d4fd4 2px solid;
        	 margin-left: 62px;
        }
        .title-flag{
            width:10px;
            height: 80px;
            border-radius: 10px;
            background-color: #ef4238;
            float: left;
            margin-right: 25px;
        }
    </style>
</head>
<body style="background-color: #0a0910">

    <!-- header section start -->
<header class="header" style="background-color: #0a0910">
    <div class="container">
        <div class="header-area">
            <div class="logo" style="margin-bottom: 150px;">
                <a href="index.html"><img src="/web/assets/img/logo.png" alt="logo"/></a>
                <div class="currcity">
                    <ul id="list1" style="width:620px;margin-left: 160px;margin-top: 60px;position: absolute">
                        <li id="summary-stock">
                            <div class="dt"> 我的城市&nbsp&nbsp:&nbsp&nbsp&nbsp</div>
                            <div class="dd">
                                <div id="store-selector">
                                    <div class="text">
                                        <div id="currcity"></div>
                                        <b></b></div>
                                    <div onclick="$('#store-selector').removeClass('hover')" class="close"></div>
                                </div><!--store-selector end-->
                                <div id="store-prompt"><strong></strong></div><!--store-prompt end---></div>
                        </li>
                    </ul>
                </div>
                <div id="app1" style="font-size: 14px;color: #292929;font-family: '微软雅黑';display: none;">
                    <div class="mycity" @click="selectLocation()">
                        我的城市：&nbsp;&nbsp;<span id="qyxs" style="color:#FF0000">{{location}}</span>&nbsp;&nbsp;&nbsp;&nbsp;<span id="update" @click="replayspan()">更改</span>
                    </div>
                    <div v-show="isShowCitys" class="city" id="city-div">
                        <div style="text-align: center;position: fixed;top: 0;height: 32px;width:100%;line-height: 32px;z-index: 300;background-color: #FFF;box-shadow: 0 0 2px rgba(0,0,0,.2)
              ">
                            我的城市：&nbsp;&nbsp;<span id="qyxs1" style="color:#FF0000">{{location}}</span>
                        </div>
                        <div class="city-wrapper city-wrapper-hook">
                            <div class="scroller-hook">
                                <div class="cities cities-hook">
                                    <div v-for="i in cityData">
                                        <div class="title">{{i.name}}</div>
                                        <ul>
                                            <li @dblclick="replay(item.name
                            )" v-for="item in i.cities" class="item city-click" :data-name="item.name" :data-id="item.code"><span class="border-1px name" @touchend="touchUp(item)"  @touchstart="chooseCity()">{{item.name}}</span>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="shortcut shortcut-hook" style="right: 50px;top:100px !important;" @touchstart="touchIndex">
                                <!--<ul style="width: 100px;text-align: left;padding: 20px 0">
                                    <li v-for="i in cityData" :data-anchor="i.name" class="item">{{i.name.substr(0, 1)}}</li>
                                </ul>-->
                            </div>
                        </div>
                    </div>
                    <div class="toast" v-show="toastShow">
                        {{toastText}}
                    </div>
                </div>
            </div>
            <div style="margin-left: 100px;" class="header-right search d7">
                <form action="#">
                    <input type="text" name="fmovie" placeholder="搜索你喜欢的影片...">
                    <button style="line-height: 50%" onclick="findmovie(this)" >
                        <svg t="1569562832317" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2069" width="16" height="16"><path d="M240.776 240.872A302.952 302.952 0 0 0 157.328 512c18.048-81.912 60.48-161.952 126.576-228.096C350.048 217.736 430.088 175.328 512 157.28c-95.28-17.952-197.52 9.864-271.224 83.592z" fill="#ff5722" p-id="2070"></path><path d="M959.6 802.736l-114.096-114.096a110.64 110.64 0 0 0-87-31.992c107.304-155.208 91.8-369.744-46.392-507.96-155.568-155.616-407.856-155.616-563.472 0-155.568 155.616-155.568 407.928 0 563.544 138.192 138.216 352.56 153.6 507.864 46.296-2.4 31.2 8.304 63.312 31.992 87l114.096 114.12c43.2 43.104 113.784 43.104 156.888 0 43.32-43.104 43.32-113.712 0.12-156.912zM665.84 665.84c-130.008 130.008-340.68 130.008-470.64 0-130.008-130.008-130.008-340.728 0-470.736 129.96-130.008 340.632-130.008 470.64 0 129.984 129.912 129.984 340.728 0 470.736z" fill="#ff5722" p-id="2071"></path></svg>
                    </button>
                </form>
                <br><span id="swarn" style="color: darkorange;font-family: 楷体;font-size: 13px;"></span>
                <div class="app">
                <ul>
                    <li><a href="/web/feng/index.html"> 爱乐电影</a></li>
                    <li v-show="user.username==null"><a class="login-popup" href="javascript:;">登录</a>
                    </li>
                    <li v-show="user.username==null" style="margin-left: 5px"><a class="register-popup" href="javascript:;">注册</a></li>
                    <li style="margin-right: 10px" v-show="!user.username==''" id="user-center">
                        <svg v-show="user.upic==''" t="1569548169004" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4376" width="32" height="32"></svg>
                        <img v-show="!user.upic==''" :src="user.upic" style="width: 32px;height: 32px;border-radius:50%">
                        <a href="javascript:;" v-text="user.username"></a>
                        <ul class="person-ul" style="background-color: black;width: 80px;position: fixed;display: none">
                            <li><a class="person-li" :href="'profile/userInfo.html?uid='+user.id">个人中心</a></li>
                            <hr color="yellow" />
                            <li><a class="person-li" href="javascript:;" onclick="userlogout()">退出</a></li>
                        </ul>
                    </li>
                </ul>
                </div>
            </div>
            <div class="menu-area">
                <div class="responsive-menu"></div>
                <div class="mainmenu">
                    <ul id="primary-menu">
                        <li><a class="active" href="/web/feng/index.html">首页</a></li>
                        <li><a href="/web/tao/mtype.html">电影</a></li>
                        <li><a href="/web/tao/cinema-jump.html">影城</a></li>
                        <li><a href="/web/feng/hotmovies.html">热映电影</a></li>
                        <li><a href="https://ent.sina.com.cn/film/">热点</a></li>
                        <li><a href="#">帮助 <i class="icofont icofont-simple-down"></i></a>
                            <ul>
                                <li><a onclick="showModel()" href="#">用户须知</a></li>
                                <li><a href="#">联系客服</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <section class="col-lg-8 col-lg-offset-2">
        <div class="title-flag">
        </div>
        <h1 style="color: #ef4238;">正在热映</h1>
    </section>


</header>
    <div class="app1">
    <!--用户须知模态框-->
    <div class="buy-ticket" id="mymodel">
        <div class="container">
            <div class="buy-ticket-area">
                <a href="#"><i class="icofont icofont-close" onclick="modelclose()"></i></a>
                <h3 style="text-align: center; color: black;font-weight: 900">用户须知</h3>
                <p> 欢迎您使用爱乐平台服务（“本服务”）。在登录爱乐平台或使用本服务前，您应当首先阅读并同意接受《爱乐用户服务协议》（“本协议”）的全部内容。在点击确认本协议之前，请您务必仔细阅读本协议的全部内容，特别是免除或限制责任条款等以粗体格式重点标示的条款。阅读本协议过程中，如果您不同意本协议的任意内容，或者无法准确理解，请不要同意本协议或登录使用本协议项下的服务，否则，即表示您已接受了本协议的条款和条件，同意受本协议约束。

                    一、定义

                    1.1 “爱乐平台”或“本平台”：重庆爱乐文化传媒有限公司运营和管理的提供在线票务等服务的网络平台（maoyan.com等）,以及重庆爱乐文化传媒有限公司或其关联方有权运营或管理的爱乐合作平台，包括但不限于美团网站及客户端电影/演出频道、大众点评网站及客户端电影/演出频道、格瓦拉客户端、微信钱包电影演出赛事入口、微信小程序等。

                    1.2 “本服务”：通过本平台向用户提供的在线票务服务、以及影视行业相关服务，包括但不限于面向用户提供影视/演出相关排片/活动信息、在线选座购票/购票、用户交流及评价、影视/演出信息介绍、影视相关票房信息查询、衍生品销售以及其他爱乐平台上展示和提供的服务。该等服务由爱乐相关主体或者相关合作方（统称“服务方”）提供。

                    1.3 “用户”：接受并同意本协议全部条款及本平台发布的其他全部服务条款和操作规则的用户。

                    二、基本原则

                    2.1 本平台为第三方平台，为用户与本平台上相关服务/产品经营者之间提供网页空间、虚拟经营场所、交易撮合、信息发布等服务，供交易各方独立开展交易活动的信息网络系统。

                    2.2 用户通过本平台使用经营者所提供服务的，应当同时遵守本协议、相关服务协议（如有）、以及本平台的相关规则、通知、要求。该等服务协议、平台规则、通知、要求等与本协议条款共同构成本协议的全部内容。

                    2.3 用户同意并确认，本平台有权随时根据运营和管理的需要，对本协议内容进行修订和变更，修订或变更后的文本将在本平台上依法予以公示。如用户在本协议修订或变更后的文本生效后，仍然继续使用本服务的，即表示用户已充分阅读、理解并同意接受修订或变更后的协议内容；如用户不同意修改后的协议内容，用户应立即停止使用本服务。 >
                    三、 用户服务

                    3.1 本平台为服务方以及用户之间通过本平台进行电影票务、演出票务、衍生品等商品或服务的网络交易活动提供网络交易平台服务。服务方负责向用户提供相应商品或服务。根据市场需要，结合各业务的不同特点，可能向用户收取一定的服务费用，具体服务费用以用户购买页面中展示信息为准。

                    3.2 本平台所提供的影视/演出的排片/活动、节目信息、选座（如有）等相关信息、以及售卖规则（包括但不限于购买规则、退改签规则等），均由影视/演出相关权利人（包括但不限于影院、影片出品方、演出主办方等）提供或制定。详见用户购买页面所展示信息。

                    3.3 本平台所发布的广告或商品/服务展示内容，如有任何侵权行为，本平台将依法根据权利人的通知或者径行做出删除等处理。

                    3.4 用户可通过本平台使用相关服务方提供的商品或服务、进行相应评论，但应当遵守法律规定以及本协议约定。

                    3.5 用户通过本平台购买相应商品或服务的，应当提供获取该等商品或服务所必需的信息（包括但不限于手机号码等）。用户应当保证所提供信息的真实、准确、合法、完整。否则，如因用户所提供信息存在问题而导致用户无法享受相关商品或服务的，用户应当自行承担责任。

                    3.6 用户实际消费过程中，如果发现服务方所提供商品或服务存在任何问题，应与相关服务方自行协商解决。同时，用户也可以通知本平台，本平台或服务方将依法向用户提供必要信息并协助用户与经营者解决争议。
                </p>
            </div>
        </div>
    </div><!-- header section end -->
    <!--注册模态框-->
    <div class="login-area" id="myregister">
        <div class="login-box register-box">
            <a href="#"><i class="icofont icofont-close" onclick="logclose(this)"></i></a>
            <h2 >注册</h2>
            <form id ="reform" action="/api-user/user/register">
                <h6>用户名</h6>
                <input class="name_input reginput" id="reguser" type="text" name="username" placeholder="请输入用户名"/>
                <span id="urmsg" class="msg">用户名不得全为数字，不含特殊字符，支持中文</span>
                <h6>密码</h6>
                <input class="pwd_input reginput" id="regpwd" type="password" name="password" placeholder="请输入密码"/>
                <span id="rpmsg" class="msg">密码不得少于6位</span>
                <h6>确认密码</h6>
                <input class="repwd_input reginput" id="repwd" type="password" name="repwd" placeholder="请确认密码"/>
                <span id="remsg" class="msg"></span>
                <div style="margin-bottom: 20px;">
                    <h6>手机号</h6>
                    <input class="tel_input reginput" id="sendphone" style="float: left" type="tel" name="telphone" placeholder="请输入手机号" />
                    <span id="regtel" class="msg"></span>
                    <div>
                        <input class="col-lg-8" id="myregcode" type="text" name="code" placeholder="验证码..." style="border: none;outline: none;border-bottom: orange 5px solid">
                        <input type="button" class="btn btn-danger" style="font-size: 13px;text-align: center!important;float: right;margin-top: 10px;background-color: red" onclick="getcode(this)" value="获取验证码">
                        <span id="regcode" class="msg"></span>
                    </div>
                </div>
                <div>
                    <a @click="register()" class="theme-btn">注册</a>
                </div>
            </form>
        </div>
    </div>
    <!--手机登陆模态框-->
    <div style="display: none;" class="login-area" id="myphonelogin">
        <div class="login-box">
            <a href="#"><i class="icofont icofont-close" onclick="logclose(this)"></i></a>
            <h2 >登录</h2>
            <form  id ="telform" action="/api-user/user/login">
                <h6>手机号</h6>
                <input type="tel" id="phonenum" name="telphone" placeholder="请输入手机号"/>
                <span id="telmsg" class="msg"></span>
                <div>
                    <input class="col-lg-8" id="mycode" type="text" placeholder="验证码..." style="border: none;outline: none;border-bottom: orange 5px solid">
                    <input class=" btn btn-success" type="button" onclick="getcode(this)" style="font-size: 13px;text-align: center!important;float: right;margin-top: 10px;background-color: red" value="获取验证码">
                    <span id="codemsg" class="msg"></span>
                </div>
                <div style="float: left;">
                    <span class="hvr-shrink" style="color: blueviolet;font-size: 15px;font-family: 黑体;cursor: pointer" onclick="loginbyid()">
                        <svg t="1569486963559" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2521" width="16" height="16"><path d="M939.904 821.333333a439.296 439.296 0 0 0-306.346667-317.994666 233.258667 233.258667 0 0 0 111.573334-198.869334c0-128.554667-104.576-233.173333-233.130667-233.173333S278.869333 175.914667 278.869333 304.469333a233.258667 233.258667 0 0 0 111.573334 198.869334 439.296 439.296 0 0 0-306.346667 317.994666 103.594667 103.594667 0 0 0 19.541333 89.088c21.034667 26.88 52.608 42.24 86.613334 42.24H833.706667a109.226667 109.226667 0 0 0 86.613333-42.24c20.138667-25.6 27.221333-58.069333 19.584-89.088zM330.069333 304.469333c0-100.352 81.621333-181.973333 181.930667-181.973333s181.930667 81.621333 181.930667 181.973333S612.352 486.4 512 486.4 330.069333 404.778667 330.069333 304.469333z m549.973334 574.421334a59.306667 59.306667 0 0 1-46.336 22.613333H190.250667a59.306667 59.306667 0 0 1-46.336-22.613333 52.096 52.096 0 0 1-10.154667-45.312C176.725333 659.328 332.245333 537.6 512 537.6s335.274667 121.728 378.197333 295.978667a52.053333 52.053333 0 0 1-10.154666 45.312z" p-id="2522" fill="#515151"></path></svg>
                        点我进入用户名登陆
                    </span>
                </div>
                <a @click="login()" class="theme-btn">手机登录</a>
            </form>
        </div>
    </div>
    <!--用户名密码登陆模态框-->
    <div class="login-area" id="myidlogin">
        <div class="login-box">
            <a href="#"><i class="icofont icofont-close" onclick="logclose(this)"></i></a>
            <h2 >登录</h2>
            <form  id ="logform" action="/api-user/user/login">
                <h6>用户名</h6>
                <input type="text" id="loginuser" name="username" placeholder="请输入用户名"/>
                <span id="ulmsg" class="msg"></span>
                <h6>密码</h6>
                <input type="password" id="loginpwd" name="password" placeholder="请输入密码"/>
                <span id="plmsg" class="msg"></span>
                <div>
                    <div class="col-lg-8">
                        <div style="float: left;">
                        <span class="hvr-shrink" style="color: blueviolet;font-size: 15px;font-family: 黑体;cursor: pointer" onclick="loginbyphone()">
                            <svg t="1569485567198" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1130" width="16" height="16"><path d="M717.72292 66.790172 310.008055 66.790172c-48.50676 0-87.971587 39.534412-87.971587 88.1302l0 48.489364 0 583.991638 0 78.821183c0 48.52518 39.463804 87.986937 87.971587 87.986937l407.714865 0c48.594765 0 88.1302-39.461757 88.1302-87.986937l0-78.821183L805.85312 203.409736l0-48.489364C805.85312 106.325607 766.317685 66.790172 717.72292 66.790172M276.401656 257.772878l475.086276 0L751.487931 733.038232 276.401656 733.038232 276.401656 257.772878zM751.487931 866.222557c0 18.545378-15.148002 33.622772-33.765011 33.622772L310.008055 899.845329c-18.527982 0-33.606399-15.077394-33.606399-33.622772l0-78.821183 475.086276 0L751.487931 866.222557zM276.401656 203.409736l0-48.489364c0-18.61701 15.078417-33.766035 33.606399-33.766035l407.714865 0c18.61701 0 33.765011 15.149025 33.765011 33.766035l0 48.489364L276.401656 203.409736zM513.963213 893.085368c27.323299 0 49.480948-22.155603 49.480948-49.514717 0-27.324322-22.156626-49.479925-49.480948-49.479925-27.359115 0-49.498344 22.154579-49.498344 49.479925C464.464869 870.929766 486.603075 893.085368 513.963213 893.085368M546.667056 153.751756l-65.426105 0c-6.813173 0-12.33391 5.52176-12.33391 12.317537 0 6.830569 5.520737 12.352329 12.33391 12.352329l65.426105 0c6.795776 0 12.351306-5.52176 12.351306-12.352329C559.018362 159.273517 553.461809 153.751756 546.667056 153.751756" p-id="1131"></path></svg>
                            点我进入手机登陆
                        </span>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div style="float: right;" class="login-remember">
                            <input id="rem" name="rem" type="checkbox"/>
                            <label for="rem" style="font-size: 15px;font-family: 'Franklin Gothic Medium';">记住我</label>
                        </div>
                    </div>
                </div>
                <a @click="login()" class="theme-btn">登录</a>
            </form>
        </div>
    </div>
    <!-- hero area start -->
    <section class="hero-area" id="home">
        <div class="container" >
            <div class="row hero-area-slide">
            	<div class="hotmovie">
            		<div class="col-lg-2 title">
						<div>
							<svg t="1569721478163" class="icon" viewBox="0 0 1054 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1118" width="32" height="32"><path d="M120.47 240.941c0-33.13-27.105-60.235-60.235-60.235S0 207.812 0 240.94s27.106 60.235 60.235 60.235 60.236-27.105 60.236-60.235z m849.318 135.53l-237.93 111.435c-9.034 6.023-18.07 3.012-24.093-6.024L542.118 219.86c-6.024-12.047-24.094-12.047-30.118 0L346.353 481.882c-6.024 9.036-15.059 12.047-24.094 6.024L84.329 376.47c-12.047-9.036-30.117 6.023-24.094 21.082l69.27 617.412c3.013 3.011 9.036 9.035 15.06 9.035h771.011c6.024 0 15.06-6.024 15.06-12.047L990.87 394.54c6.023-15.059-9.036-27.106-21.083-18.07zM587.294 954.729h-72.282V569.224c-27.106 27.105-66.26 48.188-108.424 60.235v-72.283c21.083-6.023 42.165-15.058 66.26-27.105 24.093-15.06 45.176-30.118 60.234-48.189h54.212V954.73z m406.588-774.023c-33.13 0-60.235 27.106-60.235 60.235s27.106 60.235 60.235 60.235 60.236-27.105 60.236-60.235-27.106-60.235-60.236-60.235zM527.06 120.47c33.13 0 60.235-27.106 60.235-60.236S560.188 0 527.06 0s-60.235 27.106-60.235 60.235 27.105 60.236 60.235 60.236z" fill="#EEAD0E" p-id="1119"></path></svg>
						</div>
					</div>
					<div class="detail col-lg-8">
						<div class="col-lg-4 dpic">
							<img style="width: 100%; height: 100%;" :src="top1.mpic" />
						</div>
						<div class="col-lg-8 dfile">
							<div style="margin-top: 20px;">
								<h3 v-text="top1.mname"></h3><br />
								<span class="movietype" style="margin-right: 7px">电影类型:</span>
                                <span class="movietype" v-for="type in top1.types">
                                    <span v-text="type.mtype" style="margin-right: 7px"></span>
                                </span><br/>
								<span class="ontime" v-text="'放映时长:'+top1.longtime+'分钟'"></span>
							</div>
							
						</div>
					</div>
					<div class="col-lg-2 score">
						<span class="bigscore" v-text="bigscore1"></span>
						<span class="mytip">●</span>
						<span class="smallscore" v-text="smallscore1"></span>
					</div>
            	</div>
            	<div class="hotmovie">
            		<div class="col-lg-2 title">
						<div>
							<svg t="1569725819535" class="icon" viewBox="0 0 1054 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10431" width="32" height="32"><path d="M527.058824 120.470588c33.129412 0 60.235294-27.105882 60.235294-60.235294s-27.105882-60.235294-60.235294-60.235294-60.235294 27.105882-60.235295 60.235294 27.105882 60.235294 60.235295 60.235294zM120.470588 240.941176c0-33.129412-27.105882-60.235294-60.235294-60.235294s-60.235294 27.105882-60.235294 60.235294 27.105882 60.235294 60.235294 60.235295 60.235294-27.105882 60.235294-60.235295zM969.788235 376.470588l-237.929411 111.435294c-9.035294 6.023529-18.070588 3.011765-24.094118-6.023529L542.117647 219.858824c-6.023529-12.047059-24.094118-12.047059-30.117647 0L346.352941 481.882353c-6.023529 9.035294-15.058824 12.047059-24.094117 6.023529l-237.929412-111.435294c-12.047059-9.035294-30.117647 6.023529-24.094118 21.082353l69.270588 617.411765c3.011765 3.011765 9.035294 9.035294 15.058824 9.035294h771.011765c6.023529 0 15.058824-6.023529 15.058823-12.047059l60.235294-617.411765c6.023529-15.058824-9.035294-27.105882-21.082353-18.070588z m-271.058823 587.294118H361.411765v-6.02353c0-48.188235 15.058824-90.352941 48.188235-126.494117 18.070588-21.082353 51.2-48.188235 108.423529-87.341177 33.129412-24.094118 54.211765-39.152941 66.258824-54.211764 21.082353-24.094118 30.117647-48.188235 30.117647-75.294118 0-24.094118-6.023529-45.176471-21.082353-57.223529-15.058824-12.047059-33.129412-18.070588-60.235294-18.070589-30.117647 0-48.188235 9.035294-63.247059 30.117647-15.058824 18.070588-24.094118 45.176471-24.094118 84.329412v3.011765h-81.317647v-6.02353c0-54.211765 15.058824-96.376471 48.188236-129.505882 30.117647-36.141176 72.282353-51.2 126.494117-51.2 48.188235 0 84.329412 15.058824 114.447059 39.152941 30.117647 27.105882 45.176471 63.247059 45.176471 105.411765s-15.058824 81.317647-48.188236 114.447059c-18.070588 18.070588-51.2 45.176471-99.388235 78.305882-45.176471 30.117647-75.294118 57.223529-87.341176 81.317647h234.917647V963.764706zM993.882353 180.705882c-33.129412 0-60.235294 27.105882-60.235294 60.235294s27.105882 60.235294 60.235294 60.235295 60.235294-27.105882 60.235294-60.235295-27.105882-60.235294-60.235294-60.235294z" fill="#d4237a" p-id="10432"></path></svg>
						</div>
					</div>
					<div class="detail col-lg-8">
						<div class="col-lg-4 dpic">
							<img style="width: 100%; height: 100%;" :src="top2.mpic" />
						</div>
						<div class="col-lg-8 dfile">
							<div style="margin-top: 20px;">
								<h3 v-text="top2.mname"></h3><br />
                                <span class="movietype" style="margin-right: 7px">电影类型:</span>
                                <span class="movietype" v-for="type in top2.types">
                                    <span v-text="type.mtype" style="margin-right: 7px"></span>
                                </span><br/>
								<span class="ontime" v-text="'放映时长:'+top2.longtime+'分钟'"></span>
							</div>
						</div>
					</div>
					<div class="col-lg-2 score">
						<span class="bigscore" v-text="bigscore2"></span>
						<span class="mytip">●</span>
						<span class="smallscore" v-text="smallscore2"></span>
					</div>
            	</div>
            	<div class="hotmovie">
            		<div class="col-lg-2 title">
						<div>
							<svg t="1569725968880" class="icon" viewBox="0 0 1054 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11443" width="32" height="32"><path d="M120.47 240.941c0-33.13-27.105-60.235-60.235-60.235S0 207.812 0 240.94s27.106 60.235 60.235 60.235 60.236-27.105 60.236-60.235z m406.589-120.47c33.13 0 60.235-27.106 60.235-60.236S560.188 0 527.06 0s-60.235 27.106-60.235 60.235 27.105 60.236 60.235 60.236z m442.73 256l-237.93 111.435c-9.035 6.023-18.07 3.012-24.094-6.024L542.118 219.86c-6.024-12.047-24.094-12.047-30.118 0L346.353 481.882c-6.024 9.036-15.059 12.047-24.094 6.024L84.329 376.47c-12.047-9.036-30.117 6.023-24.094 21.082l69.27 617.412c3.013 3.011 9.036 9.035 15.06 9.035h771.011c6.024 0 15.06-6.024 15.06-12.047L990.87 394.54c6.023-15.059-9.036-27.106-21.083-18.07zM656.564 930.635c-33.13 27.106-72.283 42.165-123.483 42.165-48.188 0-87.34-12.047-117.458-36.141-33.13-27.106-51.2-69.27-54.212-120.47h72.282c0 33.129 12.047 57.223 30.118 72.282s39.153 24.094 66.259 24.094c30.117 0 54.211-9.036 72.282-27.106 15.059-15.059 24.094-36.141 24.094-60.235 0-27.106-9.035-48.189-27.106-60.236-15.059-12.047-39.153-21.082-72.282-21.082h-33.13v-51.2h33.13c30.117 0 51.2-6.024 66.259-18.07 15.058-12.048 21.082-30.118 21.082-54.212s-6.024-42.165-21.082-54.212c-15.06-12.047-36.142-18.07-63.247-18.07-27.106 0-51.2 6.023-66.26 21.082-12.046 12.047-21.082 33.129-24.093 63.247h-72.283c3.012-48.189 21.083-84.33 51.2-111.436 30.118-27.106 66.26-39.153 114.447-39.153 48.189 0 84.33 12.047 114.447 33.13 27.106 24.094 42.165 54.212 42.165 96.376 0 51.2-27.106 87.341-78.306 105.412 27.106 9.035 48.188 21.082 63.247 39.153 15.06 18.07 24.094 42.165 24.094 69.27 3.012 42.165-12.047 78.306-42.164 105.412z m337.317-749.93c-33.13 0-60.235 27.107-60.235 60.236s27.106 60.235 60.235 60.235 60.236-27.105 60.236-60.235-27.106-60.235-60.236-60.235z" fill="#e6e6e6" p-id="11444"></path></svg>
						</div>
					</div>
					<div class="detail col-lg-8">
						<div class="col-lg-4 dpic">
							<img style="width: 100%; height: 100%;" :src="top3.mpic" />
						</div>
						<div class="col-lg-8 dfile">
							<div style="margin-top: 20px;">
								<h3 v-text="top3.mname"></h3><br />
                                <span class="movietype" style="margin-right: 7px">电影类型:</span>
                                <span class="movietype" v-for="type in top3.types">
                                    <span v-text="type.mtype" style="margin-right: 7px"></span>
                                </span><br/>
								<span class="ontime" v-text="'放映时长:'+top3.longtime+'分钟'"></span>
							</div>
						</div>
					</div>
					<div class="col-lg-2 score">
						<span class="bigscore" v-text="bigscore3"></span>
						<span class="mytip">●</span>
						<span class="smallscore" v-text="smallscore3"></span>
					</div>
            	</div>
            	<div class="hotmovie" v-for="(movie,index) in movies">
            		<div class="col-lg-2 title">
						<div class="lowscore">
							<span v-text="index+4"></span>
						</div>
					</div>
					<div class="detail col-lg-8">
						<div class="col-lg-4 dpic">
							<img style="width: 100%; height: 100%;" :src="movie.mpic" />
						</div>
						<div class="col-lg-8 dfile">
							<div style="margin-top: 20px;">
								<h3 v-text="movie.mname"></h3><br />
                                <span class="movietype" style="margin-right: 7px">电影类型:</span>
                                <span class="movietype" v-for="type in movie.types">
                                    <span v-text="type.mtype" style="margin-right: 7px"></span>
                                </span><br/>
								<span class="ontime" v-text="'放映时长:'+movie.longtime+'分钟'"></span>
							</div>
						</div>
					</div>
					<div class="col-lg-2 score">
						<span class="bigscore" v-text="bigscores[index]"></span>
						<span class="mytip">●</span>
						<span class="smallscore"v-text="smallscores[index]"></span>
					</div>
            	</div>
				
            </div>
        </div>
    </section><!-- hero area end -->
    <!-- footer section start -->
    <div class="footer">
        <div class="container">
            <div class="w3ls_footer_grid col-lg-12" >
                <div class="col-lg-6 w3ls_footer_grid_left">
                    <div class="w3ls_footer_grid_left1">
                        <h3>关于爱乐</h3>
                        <div class="w3ls_footer_grid_left1_pos">
                            <div class="bottom-row">
                                <span>商务合作邮箱：971872973@qq.com</span>
                                <span class="bt-line">|</span>
                                <span>客服电话：17603649546</span>
                            </div>
                            <div class="bottom-row">
                                <span>用户投诉邮箱：1099773854@qq.com</span>
                                <span class="bt-line">|</span>
                                <span>友情链接：<a href="https://cq.meituan.com/?utm_source=wwwmaoyan"
                                              class="bottom-chain">美团网</a></span>
                            </div>
                            <div class="bottom-row">
                                <a href="#" class="bottom-chain">中华人民共和国增值电信业务经营许可证&nbsp;渝A1-20190909</a>
                            </div>
                            <div class="bottom-row">
                                <a href="#" class="bottom-chain">网络文化经营许可证&nbsp;京网文(2019)3897-330号</a>
                            </div>
                            <div class="bottom-row">
                                <a href="#" class="bottom-chain">爱乐用户服务协议</a>
                                <span class="bt-line">|</span>
                                <a href="#" class="bottom-chain">爱乐平台交易规则总则</a>

                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6 w3ls_footer_grid_right" >
                    <a href="index.html"><h2 class="title">爱乐<span class="webtitle-bottom">电影</span></h2></a>
                </div>
                <div class="clearfix"></div>
            </div>
            <div class="col-md-5 w3ls_footer_grid1_left">
                <p>重庆爱乐文化传媒有限公司©2016 爱乐电影 aiyue.com </p>
            </div>
            <div class="col-md-7 w3ls_footer_grid1_right">
                <div class="col-lg-6 card-left">
                    <a href="#"><img src="/web/images/web-permission.png"/></a>

                </div>
                <div class="col-lg-6 card-right">
                    <a href="#"><img src="/web/images/permission-card.png"/></a>
                </div>
            </div>
            <div class="clearfix"></div>
        </div>
    </div>
</div>
<!-- jquery main JS -->
<script src="/web/js/jquery-2.1.4.min.js"></script>
<script src="/web/js/bootstrap.min.js"></script>
<script src="/web/js/vue.js" type="text/javascript"></script>
<!-- Slick nav JS -->
<script src="/web/assets/js/jquery.slicknav.min.js"></script>
<!-- owl carousel JS -->
<script src="/web/assets/js/owl.carousel.min.js"></script>
<!-- Popup JS -->
<script src="/web/assets/js/jquery.magnific-popup.min.js"></script>
<!-- Isotope JS -->
<script src="/web/assets/js/isotope.pkgd.min.js"></script>
<!-- main JS -->
<script src="/web/assets/js/main.js"></script>

<!-- main JS -->
<script src="/web/js/vue.js"></script>
<script src="/web/tao/js/jquery-1.9.1.min.js"></script>
<script src="/web/tao/js/location.js"></script>
<script src="/web/tao/js/city.js"></script>
<script src="/web/tao/js/bscroll.min.js"></script>
<!--定位-->
<script>
    window.onload=function () {
        /*获取定位的值*/
        var city=$("#qyxs").text();
        $("#currcity").text(city);
    }
    var app = new Vue({
        el: '#app1',
        data: {
            origin: 'http://192.168.99.205:800',
            captchaBoxShow: false,
            test: '测试',
            countTime: 0,
            countTimer: null,
            time: 60,
            location: '定位中',
            submit: {
                sms_captcha  : '',
                captcha      : '',
                area_code    : '',
                _token       : '',
            },
            map: new AMap.Map("container", {
                resizeEnable: true,
                //city: citycode,
                zoom: 17, //地图显示的缩放级别
                keyboardEnable: false,
                citylimit: true,
                resizeEnable: true
            }),
            cityWrapper: document.querySelector('.city-wrapper-hook'),
            cityScroller: document.querySelector('.scroller-hook'),
            cities: document.querySelector('.cities-hook'),
            shortcut: document.querySelector('.shortcut-hook'),
            shortcutList: [],
            cityData: cityData,// 数据源
            scroll: null,
            anchorMap: {},
            touch: {},
            toastShow: false,
            isShowCitys: false,
            toastText: '',
        },
        methods: {
            replay:function(cityName){
                $("#qyxs").text(cityName);
                $("#city-div").hide();
            },
            replayspan:function(){
                var name=$("#qyxs").text();
                $("#qyxs1").text(name);
                $("#city-div").show();
            },
            toast (str) {
                let v = this
                v.toastText = str
                v.toastShow = true
                setTimeout(function(){
                    v.toastShow = false
                }, 1500)
            },
            chooseCity (city) {
                let v = this
                v.countTime = 0
                v.countTimer = setInterval(function(e){v.countTime ++},1)
            },
            touchUp (item) {
                let v = this
                clearInterval(v.countTimer)
                if (v.countTime < 30) {
                    this.isShowCitys = false
                    this.location = item.name
                    this.submit.area_code = item.code
                }
            },
            selectLocation () {
                let v = this
                this.isShowCitys = true
                this.$nextTick(function() {
                    this.initCities()
                })
            },
            geocoder_CallBack: function (data) {
                let v = this
                var adcode3     = data.regeocode.addressComponent.adcode;
                var address     = data.regeocode.formattedAddress; //返回地址描述
                var csqy        = data.regeocode.addressComponent.district; //地区
                var csadcode    = data.regeocode.addressComponent.adcode; //区域编码
                this.submit.area_code = csadcode
                var citycode2   = csadcode.substr(0, 4) + "00"; //省份编码
                var codes       = adcode3.substr(0, 4) + "00";
                var citys2      = data.regeocode.addressComponent.city;
                var poiArr      = data.regeocode.pois; //坐标
                var resultCount = poiArr.length;
                v.location      = csqy
                var dz          = data.regeocode.formattedAddress;
                var lng         = data.regeocode.roads[0].location.lng;
                var lat         = data.regeocode.roads[0].location.lat;
            },
            zddw: function () {
                //初始定位
                let v = this;
                v.map.plugin('AMap.Geolocation', function() {
                    geolocation = new AMap.Geolocation({
                        enableHighAccuracy: true, //是否使用高精度定位，默认:true
                        //timeout: 10000, //超过10秒后停止定位，默认：无穷大
                        buttonOffset: new AMap.Pixel(10, 20), //定位按钮与设置的停靠位置的偏移量，默认：Pixel(10, 20)
                        zoomToAccuracy: true, //定位成功后调整地图视野范围使定位位置及精度范围视野内可见，默认：false
                        noIpLocate: 0, //IP定位，0-3，0都可以使用
                        noGeoLocation: 0, //浏览器定位 0-3,
                        showCircle: false, //去除定位蓝圈
                        buttonPosition: 'RT',
                        extensions: 'all'
                    });
                    v.map.addControl(geolocation);
                    geolocation.getCurrentPosition();
                    AMap.event.addListener(geolocation, 'complete', onComplete); //返回定位信息
                    AMap.event.addListener(geolocation, 'error', onError); //返回定位出错信息

                });
                //解析定位结果
                function onComplete(data) {
                    var str = [];
                    str.push(data.position.lng);
                    str.push(data.position.lat);
                    var geocoder = new AMap.Geocoder({
                        radius: 1000,
                        extensions: "all"
                    });
                    geocoder.getAddress(str, function(status, result) {
                        if (status === 'complete' && result.info === 'OK') {
                            v.geocoder_CallBack(result);
                        }
                    });
                }
                // 解析定位错误信息
                function onError(data) {
                    alert('定位失败,请手动选择所在区域');
                }
            },
            initCities: function () {
                let v = this;
                let y = 0;
                var titleHeight = 28
                var itemHeight = 44
                v.cityData.forEach(function(e){
                    let name = e.name.substr(0, 1)
                    let len = e.cities.length
                    v.anchorMap[name] = y
                    y -= titleHeight + len * itemHeight
                })
                v.shortcut = document.querySelector('.shortcut-hook')
                v.cityWrapper = document.querySelector('.city-wrapper-hook')
                v.shortcut.style.top = (v.cityWrapper.clientHeight - v.shortcut.clientHeight) / 2 + 'px';
                v.scroll = new window.BScroll(v.cityWrapper, {
                    probeType: 3
                })
                // console.log(v.scroll, 'v.scroll')
                // v.scroll.hasVerticalScroll = true
                // v.scroll.wrapperHeight = $('body').height()
                v.scroll.scrollTo(0, 0);
            },
            touchIndex: function (e) {
                // console.log(e, 'e')
                let v = this
                let anchor = e.target.getAttribute('data-anchor')
                // console.log(anchor ,'anchor')
                let firstTouch = e.touches[0]
                v.touch.y1 = firstTouch.pageY
                v.touch.anchor = anchor
                v.scrollTo(anchor)
            },
            scrollTo: function (anchor) {
                let v = this
                v.cityScroller = document.querySelector('.scroller-hook')
                var maxScrollY = v.cityWrapper.clientHeight - v.cityScroller.clientHeight
                var y = Math.min(0, Math.max(maxScrollY, v.anchorMap[anchor]))
                if (typeof y !== 'undefined') {
                    v.scroll.scrollTo(0, y);
                }
            },
        },
        mounted: function () {
            let v = this
            this.zddw()
            v.initCities()
        },
    })
</script>
<script type="text/javascript">
    $(function () {
        $('.login-popup').on('click', function () {
            $('#myidlogin').slideDown(1500);
            return false;
        });
        $('.register-popup').on('click', function () {
            $('#myregister').slideDown(1500);
            return false;
        });
    });
    function logclose(t) {
        $(t).parent().parent().parent().hide();
    }
    var app = new Vue({
        el:".app",
        data:{
          user:{},
          movies:[],
          top1:{},
          bigscore1:'',
          smallscore1:'',
          top2:{},
          bigscore2:'',
          smallscore2:'',
          top3:{},
          bigscore3:'',
          smallscore3:'',
          bigscores:[],
          smallscores:[]
        },
        created:function () {
            var v = this;
             //从cookie中获取user信息，判断其是否登录
             var cookies=document.cookie.split(";");
             var myuser;
             var a = "loguser";
             for(var i=0;i<cookies.length;i++){
                 if(a==cookies[i].split("=")[0].trim()){
                     var user = cookies[i].split("=")[1];
                     console.log("---"+user);
                     myuser = decodeURIComponent(user);
                     console.log("===="+myuser);
                 }
             }
             if(myuser!=null){
                 v.user = $.parseJSON(myuser);
             }
            //查询出评分最高的前十部电影
            $.ajax({
                url:"/movie-stage/movie/orderbyscore/10",
                dataType:"json",
                type:"get",
                success:function (rt) {
                    if(rt.code=="success"){
                        v.top1 = (rt.list[0]);
                        v.bigscore1 = rt.list[0].score.split(".")[0];
                        v.smallscore1 = rt.list[0].score.split(".")[1];
                        v.top2 = (rt.list[1]);
                        v.bigscore2 = rt.list[1].score.split(".")[0];
                        v.smallscore2 = rt.list[1].score.split(".")[1];
                        v.top3 = (rt.list[2]);
                        v.bigscore3 = rt.list[2].score.split(".")[0];
                        v.smallscore3 = rt.list[2].score.split(".")[1];
                        for(var j=3;j<10;j++){
                            v.movies.push(rt.list[j]);
                            v.bigscores.push(rt.list[j].score.split(".")[0]);
                            v.smallscores.push(rt.list[j].score.split(".")[1]);
                        }
                    }
                }
            });
        }/*,
        methods: {
            login() {
                var obj = this;
                var flag = false;
                for(var i=0;i<$("#logform .msg").length;i++){
                    if($("#logform .msg").eq(i).text()==null||$("#logform .msg").eq(i).text()==""){
                        flag =true;
                    }
                }
                for(var i=0;i<$("#telform .msg").length;i++){
                    if($("#telform .msg").eq(i).text()==null||$("#telform .msg").eq(i).text()==""){
                        flag =true;
                    }
                }
                if(flag==true){
                    $.ajax({
                        url: "/api-user/user/login",
                        data: {"username":$("#loginuser").val(),"password":$("#loginpwd").val(),
                            "phonenum":$("#phonenum").val(),"code":$("#mycode").val()},
                        type: "post",
                        dataType: "json",
                        success: function (data) {
                            if (data.code = "success") {
                                $(".login-area").slideUp(1000);
                                obj.user = data.object;
                                alert("==="+obj.user.username)
                            }else if(data.code=="error"){
                                alert(data.message);
                            }else if(data.code=="ufail"){
                                $("#ulmsg").text(data.message);
                            }else if(data.code=="pwdfail"){
                                $("#plmsg").text(data.message);
                            }else if(date.code=="pfail"){
                                $("#telmsg").text(data.message);
                            }else if(data.code=="cfail"){
                                $("#codemsg").text(data.message);
                            }else{
                                alert(data.message);
                            }

                        }

                    })
                }
            },
            register(){
                var v =this;
                if($(".msg").text()==null||$(".msg").text()==""){
                    $.ajax({
                        url:"/api-user/user/register",
                        data:$("#reform").serialize(),
                        type:"get",
                        dataType:"json",
                        success:function (rt) {
                            alert(rt.message);
                            window.location.reload();
                        }
                    });
                }
            }
        }*/
    });
</script>
    <script type="text/javascript">
        var app1 = new Vue({
            el:".app1",
            data:{
                user:{},
                movies:[],
                top1:{},
                bigscore1:'',
                smallscore1:'',
                top2:{},
                bigscore2:'',
                smallscore2:'',
                top3:{},
                bigscore3:'',
                smallscore3:'',
                bigscores:[],
                smallscores:[]
            },
            created:function () {
                var v = this;
                //查询出评分最高的前十部电影
                $.ajax({
                    url:"/movie-stage/movie/orderbyscore/10",
                    dataType:"json",
                    type:"get",
                    success:function (rt) {
                        if(rt.code=="success"){
                            v.top1 = (rt.list[0]);
                            v.bigscore1 = rt.list[0].score.split(".")[0];
                            v.smallscore1 = rt.list[0].score.split(".")[1];
                            v.top2 = (rt.list[1]);
                            v.bigscore2 = rt.list[1].score.split(".")[0];
                            v.smallscore2 = rt.list[1].score.split(".")[1];
                            v.top3 = (rt.list[2]);
                            v.bigscore3 = rt.list[2].score.split(".")[0];
                            v.smallscore3 = rt.list[2].score.split(".")[1];
                            for(var j=3;j<10;j++){
                                v.movies.push(rt.list[j]);
                                v.bigscores.push(rt.list[j].score.split(".")[0]);
                                v.smallscores.push(rt.list[j].score.split(".")[1]);
                            }
                        }
                    }
                });
            },
            methods: {
                login() {
                    var obj = app;
                    var flag = false;
                    for(var i=0;i<$("#logform .msg").length;i++){
                        if($("#logform .msg").eq(i).text()==null||$("#logform .msg").eq(i).text()==""){
                            flag =true;
                        }
                    }
                    for(var i=0;i<$("#telform .msg").length;i++){
                        if($("#telform .msg").eq(i).text()==null||$("#telform .msg").eq(i).text()==""){
                            flag =true;
                        }
                    }
                    if(flag==true){
                        $.ajax({
                            url: "/api-user/user/login",
                            data: {"username":$("#loginuser").val(),"password":$("#loginpwd").val(),
                                "phonenum":$("#phonenum").val(),"code":$("#mycode").val()},
                            type: "post",
                            dataType: "json",
                            success: function (data) {
                                if (data.code = "success") {
                                    $(".login-area").slideUp(1000);
                                    obj.user = data.object;
                                }else if(data.code=="error"){
                                    alert(data.message);
                                }else if(data.code=="ufail"){
                                    $("#ulmsg").text(data.message);
                                }else if(data.code=="pwdfail"){
                                    $("#plmsg").text(data.message);
                                }else if(date.code=="pfail"){
                                    $("#telmsg").text(data.message);
                                }else if(data.code=="cfail"){
                                    $("#codemsg").text(data.message);
                                }else{
                                    alert(data.message);
                                }

                            }

                        })
                    }
                },
                register(){
                    var v =this;
                    if($(".msg").text()==null||$(".msg").text()==""){
                        $.ajax({
                            url:"/api-user/user/register",
                            data:$("#reform").serialize(),
                            type:"get",
                            dataType:"json",
                            success:function (rt) {
                                alert(rt.message);
                                window.location.reload();
                            }
                        });
                    }
                }
            }
        });
        function showModel() {
            $(".buy-ticket").slideDown(500);
        }
        function modelclose(){
            $(".buy-ticket").hide();
        }
        function loginbyphone() {
            $("#myidlogin").hide();
            $("#myphonelogin").show();
        }
        function loginbyid() {
            $("#myidlogin").show();
            $("#myphonelogin").hide();
        }
        var t ;
        function getcode(th) {
            $.ajax({
                url:"/api-user/user/sendCode",
                data:{"phone":$(th).parent().prev().prev().val()},
                dataType:"json",
                type:"get",
                success:function (rt) {
                    $(th).attr("disabled","disabled");
                    var second = 10;
                    t = setInterval(function () {
                        $(th).val(second+"s重发");
                        second -= 1;
                        console.log("second==="+second);
                        if(second<=-1){
                            $(th).removeAttr("disabled");
                            $(th).val("获取验证码");
                            clearInterval(t);60
                        }
                    },1000)
                }
            });
        }
        $("#user-center").mouseover(function () {
            $(".person-ul").stop(true);
            $(".person-ul").slideDown(500);
        })
        $("#user-center").mouseleave(function () {
            $(".person-ul").stop(true);
            $(".person-ul").slideUp(500);
        })
        function userlogout() {
            $.ajax({
                url:"/api-user/user/userlogout",
                dataType:"json",
                type:"delete",
                success:function (rt) {
                    if(rt.code=="success"){
                        app.user = {};
                    }
                }
            });
        }
        function findmovie(t) {
            if($(t).prev().val()==null||$(t).prev().val()==""){
                $("#swarn").text("请输入一部影片名字")
            }
            $.ajax({
                url:"/movie-stage/movie/byname/"+$(t).prev().val(),
                dataType:"json",
                type:"get",
                success:function (rt) {
                    var getmovie = rt.list[0].id;
                    window.location.href="/web/tao/movie-info.html?mid="+getmovie;
                }
            });
        }
        //用户名登录验证
        function lucheck() {
            var pattern = new RegExp("[`~!@#$^&*()=|{}':;',\\[\\].<>《》/?~！@#￥……&*（）——|{}【】‘；：”“'。，、？]");
            /!*var reg = new RegExp("[\\u4E00-\\u9FFF]+","g");*!/
            if((/^[0-9]+$/.test($("#loginuser").val()))){
                $("#ulmsg").text("用户名不能全为数字")
            }else if(/^[a-zA-Z]+$/.test($("#loginuser").val())){
                $("#ulmsg").text("用户名不得全为字母")
            }else if($("#loginuser").val().length<2){
                $("#ulmsg").text("用户名不少于两位")
            }else if(pattern.test($("#loginuser").val())){
                $("#ulmsg").text("用户名不得含有特殊字符")
            }
        }
        //登录密码验证
        function lpwdcheck() {
            if($("#loginpwd").val().length<6){
                $("#plmsg").text("密码不得少于六位")
            }else if(/^[a-zA-Z]+$/.test($("#loginpwd").val())){
                $("#plmsg").text("密码不得全为字母")
            }
        }
        //登录手机号验证
        function lpcheck() {
            var myreg = /^1[3456789]\d{9}$/;
            if(!myreg.test($("#phonenum").val())){
                $("#telmsg").text("手机号码不合法")
            }
        }
        $("#loginuser").blur(function () {
            lucheck();
        })
        $("#loginuser").focus(function () {
            $("#ulmsg").empty();
        })
        $("#loginpwd").blur(function () {
            lpwdcheck();
        })
        $("#loginpwd").focus(function () {
            $("#plmsg").empty();
        })
        $("#phonenum").blur(function () {
            lpcheck();
        })
        $("#phonenum").focus(function () {
            $("#telmsg").empty();
        })
        //注册用户名验证
        function rucheck() {
            var pattern = new RegExp("[`~!@#$^&*()=|{}':;',\\[\\].<>《》/?~！@#￥……&*（）——|{}【】‘；：”“'。，、？]");
            /!*var reg = new RegExp("[\\u4E00-\\u9FFF]+","g");*!/
            if((/^[0-9]+$/.test($("#reguser").val()))){
                $("#urmsg").text("用户名不能全为数字")
            }else if(pattern.test($("#reguser").val())){
                $("#urmsg").text("用户名不得含有特殊字符")
            }else if($("#reguser").val().length<2){
                $("#urmsg").text("用户名至少两位")
            }
        }
        //注册密码验证
        function rpwdcheck() {
            if($("#regpwd").val().length<6){
                $("#rmsg").text("密码不得少于六位")
            }else if(/^[a-zA-Z]+$/.test($("#loginpwd").val())){
                $("#rpmsg").text("密码不得全为字母")
            }
        }
        //注册密码确认验证
        function recheck() {
            if($("#repwd").val()!=$("#regpwd").val()){
                $("#remsg").text("密码输入不一致")
            }
        }
        //注册手机号验证
        function rpcheck() {
            var myreg = /^1[3456789]\d{9}$/;
            if(!myreg.test($("#sendphone").val())){
                $("#regtel").text("手机号码不合法")
            }
        }
        $("#reguser").blur(function () {
            rucheck();
        })
        $("#reguser").focus(function () {
            $("#urmsg").empty();
        })
        $("#regpwd").blur(function () {
            rpwdcheck();
        })
        $("#regpwd").focus(function () {
            $("#rpmsg").empty();
        })
        $("#repwd").blur(function () {
            recheck();
        })
        $("#repwd").focus(function () {
            $("#remsg").empty();
        })
        $("#phonenum").blur(function () {
            rpcheck();
        })
        $("#phonenum").focus(function () {
            $("#regtel").empty();
        })
        $("#mycode").focus(function () {
            $("#codemsg").empty();
        })
        $("#myregcode").focus(function () {
            $("#regcode").empty();
        })
    </script>
</body>
</html>
